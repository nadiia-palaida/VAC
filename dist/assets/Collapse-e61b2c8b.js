import{B as c,f,g as D,C as j,q as z,_ as E,r as H,o as L,c as M,a as g,t as N,T as h,j as T,b as k,w as I,l as q,n as F}from"./index-d3e83a28.js";var R=Object.defineProperty,U=Object.defineProperties,$=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,w=(e,t,a)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,p=(e,t)=>{for(var a in t||(t={}))Y.call(t,a)&&w(e,a,t[a]);if(y)for(var a of y(t))Z.call(t,a)&&w(e,a,t[a]);return e},b=(e,t)=>U(e,$(t));const G={modelValue:{type:Boolean,default:!1},duration:{type:Number,default:500},timingFunction:{type:String,default:"ease-in-out"},tag:{type:String,default:"div"},responsive:{type:Boolean,default:!1}};var J={emits:["open-start","close-start","open-end","close-end","layout-shift"],props:p({},G),setup(e,{slots:t,attrs:a,emit:i}){const l=c(null),o=c(!1),r=c(!1),s=c(0),n=c(0),v=c(!1),O=f(()=>typeof e.duration=="number"?`${e.duration}ms`:e.duration),C=u=>{setTimeout(()=>{window.requestAnimationFrame(u)},0)},d=()=>{l.value&&(s.value=l.value.scrollHeight)},m=()=>{if(v.value===!0)return e.modelValue===!1&&(n.value=0),d(),_({target:l.value});n.value=s.value+"px",e.modelValue===!1?(r.value=!0,i("close-start"),C(()=>{n.value=0})):i("open-start"),v.value=!0},P=f(()=>({transition:o.value?`height ${O.value} ${e.timingFunction}`:null,height:o.value?n.value:null,overflowY:r.value?"hidden":null,"--content-height":s.value})),S=f(()=>({"aria-hidden":e.modelValue===!1,tabindex:e.modelValue===!1?"-1":null})),_=u=>{u.target===l.value&&(e.modelValue===!0?(n.value=null,r.value=!1,i("open-end")):i("close-end"),v.value=!1)};D(()=>{d(),e.modelValue?n.value=s.value+"px":(n.value=0,r.value=!0),e.responsive&&A(),o.value=!0}),j(()=>e.modelValue,u=>{d(),m()});const x=()=>{e.modelValue!==!1&&(i("layout-shift"),n.value=s.value+"px",r.value=!0,d(),setTimeout(m,0))},A=()=>{const u=new MutationObserver(x),B={subtree:!0,attributes:!1,childList:!0,characterData:!1};u.observe(l.value,B)};return()=>z(e.tag,b(p(b(p({},Object.assign({},a,{style:P.value})),{class:"slide-up-down__container",onTransitionend:_}),S.value),{ref:l}),t.default())}};const V="small",K={name:"Collapse",components:{SlideUpDown:J},props:{title:{type:String,required:!0},size:{type:String},filterList:{type:Array,default:[]}},data(){return{active:!1,SIZE_SMALL:V}},computed:{collapseClasses(){return{collapse_active:this.active,collapse_small:this.size===V}}},methods:{toggleActive(){this.active=!this.active}}},Q={class:"collapse__title-wrap"};function W(e,t,a,i,l,o){const r=H("slide-up-down");return L(),M("div",{class:F(["collapse",o.collapseClasses])},[g("div",Q,[g("div",{onClick:t[0]||(t[0]=(...s)=>o.toggleActive&&o.toggleActive(...s)),class:"collapse__title title-text"},N(a.title),1),l.active?T("",!0):h(e.$slots,"header",{key:0})]),k(r,{onClick:t[1]||(t[1]=q(()=>{},["stop"])),modelValue:l.active,"onUpdate:modelValue":t[2]||(t[2]=s=>l.active=s),duration:1e3,class:"collapse__slide"},{default:I(()=>[h(e.$slots,"default")]),_:3},8,["modelValue"])],2)}const ee=E(K,[["render",W]]);export{ee as C};
