import{v as c,f,k as S,w as j,h as A,_ as H,r as E,o as k,c as M,a as p,D as h,b as N,E as T,H as z,n as F}from"./index-2c3564b1.js";var I=Object.defineProperty,q=Object.defineProperties,L=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,y=(e,t,a)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,_=(e,t)=>{for(var a in t||(t={}))R.call(t,a)&&y(e,a,t[a]);if(w)for(var a of w(t))U.call(t,a)&&y(e,a,t[a]);return e},b=(e,t)=>q(e,L(t));const Y={modelValue:{type:Boolean,default:!1},duration:{type:Number,default:500},timingFunction:{type:String,default:"ease-in-out"},tag:{type:String,default:"div"},responsive:{type:Boolean,default:!1}};var G={emits:["open-start","close-start","open-end","close-end","layout-shift"],props:_({},Y),setup(e,{slots:t,attrs:a,emit:r}){const l=c(null),i=c(!1),n=c(!1),s=c(0),o=c(0),v=c(!1),O=f(()=>typeof e.duration=="number"?`${e.duration}ms`:e.duration),V=u=>{setTimeout(()=>{window.requestAnimationFrame(u)},0)},d=()=>{l.value&&(s.value=l.value.scrollHeight)},m=()=>{if(v.value===!0)return e.modelValue===!1&&(o.value=0),d(),g({target:l.value});o.value=s.value+"px",e.modelValue===!1?(n.value=!0,r("close-start"),V(()=>{o.value=0})):r("open-start"),v.value=!0},x=f(()=>({transition:i.value?`height ${O.value} ${e.timingFunction}`:null,height:i.value?o.value:null,overflowY:n.value?"hidden":null,"--content-height":s.value})),P=f(()=>({"aria-hidden":e.modelValue===!1,tabindex:e.modelValue===!1?"-1":null})),g=u=>{u.target===l.value&&(e.modelValue===!0?(o.value=null,n.value=!1,r("open-end")):r("close-end"),v.value=!1)};S(()=>{d(),e.modelValue?o.value=s.value+"px":(o.value=0,n.value=!0),e.responsive&&D(),i.value=!0}),j(()=>e.modelValue,u=>{d(),m()});const C=()=>{e.modelValue!==!1&&(r("layout-shift"),o.value=s.value+"px",n.value=!0,d(),setTimeout(m,0))},D=()=>{const u=new MutationObserver(C),B={subtree:!0,attributes:!1,childList:!0,characterData:!1};u.observe(l.value,B)};return()=>A(e.tag,b(_(b(_({},Object.assign({},a,{style:x.value})),{class:"slide-up-down__container",onTransitionend:g}),P.value),{ref:l}),t.default())}};const J={name:"Collapse",components:{SlideUpDown:G},props:{collapse:{type:Object,required:!0}},data(){return{active:!1}},methods:{toggleActive(){this.active=!this.active}}},K={class:"collapse__title-wrap"},Q={class:"collapse__title title-text"},W={class:"collapse__text text"};function X(e,t,a,r,l,i){const n=E("slide-up-down");return k(),M("div",{onClick:t[2]||(t[2]=(...s)=>i.toggleActive&&i.toggleActive(...s)),class:F(["collapse",{collapse_active:l.active}])},[p("div",K,[p("div",Q,h(a.collapse.title),1)]),N(n,{onClick:t[0]||(t[0]=z(()=>{},["stop"])),modelValue:l.active,"onUpdate:modelValue":t[1]||(t[1]=s=>l.active=s),duration:1e3},{default:T(()=>[p("div",W,h(a.collapse.text),1)]),_:1},8,["modelValue"])],2)}const $=H(J,[["render",X]]);export{$ as C};
